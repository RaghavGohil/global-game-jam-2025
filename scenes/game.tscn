[gd_scene load_steps=9 format=3 uid="uid://luipmdfkdgq8"]

[ext_resource type="Texture2D" uid="uid://cqu0bnfpj24qr" path="res://sprites/tilemaps/tilemap.png" id="1_x2fx8"]
[ext_resource type="Texture2D" uid="uid://bl01yys0l5346" path="res://sprites/tilemaps/player_1.png" id="2_ccm4g"]
[ext_resource type="Texture2D" uid="uid://3inttbb8i4sm" path="res://sprites/tilemaps/gun.png" id="2_lvepg"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_r7nwh"]
texture = ExtResource("1_x2fx8")
texture_region_size = Vector2i(8, 8)
3:1/0 = 0
7:1/0 = 0
8:1/0 = 0
9:1/0 = 0
0:2/0 = 0
2:2/0 = 0
3:2/0 = 0
6:2/0 = 0
7:2/0 = 0
8:2/0 = 0
9:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
2:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
3:3/0 = 0
4:3/0 = 0
5:3/0 = 0
6:3/0 = 0
9:3/0 = 0
2:4/0 = 0
9:8/0 = 0

[sub_resource type="TileSet" id="TileSet_leepm"]
tile_size = Vector2i(8, 8)
physics_layer_0/collision_layer = 1
physics_layer_1/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_r7nwh")

[sub_resource type="GDScript" id="GDScript_beeb3"]
script/source = "extends CharacterBody2D


const SPEED = 100.0
const JUMP_VELOCITY = -200.0


func _physics_process(delta):
	# Add the gravity.
	if not is_on_floor():
		velocity += get_gravity() * delta

	# Handle jump.
	if Input.is_action_just_pressed(\"jump\") and is_on_floor():
		velocity.y = JUMP_VELOCITY

	# Get the input direction and handle the movement/deceleration.
	# As good practice, you should replace UI actions with custom gameplay actions.
	var direction = Input.get_axis(\"move_left\", \"move_right\")
	if direction:
		velocity.x = direction * SPEED
	else:
		velocity.x = move_toward(velocity.x, 0, SPEED)

	move_and_slide()
"

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_w3n0b"]
radius = 2.0
height = 6.0

[sub_resource type="Environment" id="Environment_l7li0"]
background_mode = 3
background_color = Color(0.671094, 0.653352, 0.657808, 1)
glow_enabled = true
glow_strength = 0.85
glow_bloom = 0.2
glow_blend_mode = 1

[node name="Node2D" type="Node2D"]

[node name="TileMap" type="TileMap" parent="."]
texture_filter = 1
tile_set = SubResource("TileSet_leepm")
format = 2
layer_0/tile_data = PackedInt32Array(1, 196608, 3, 2, 131072, 3, 3, 131072, 3, 4, 131072, 3, 5, 131072, 3, 6, 393216, 3, -65530, 393216, 2, -65529, 131072, 3, -65528, 131072, 3, -65527, 131072, 3, -131070, 458752, 2, -131073, 458752, 2, -262140, 458752, 2, -262135, 589824, 1, -131067, 524288, 2, -65526, 393216, 3, -131062, 393216, 2, -196597, 0, 805306370, -131061, 393216, 3, -65533, 131072, 2, 65536, 131072, 3, 131071, 131072, 3, 131070, 131072, 3, 131069, 131072, 3)

[node name="Player" type="CharacterBody2D" parent="."]
script = SubResource("GDScript_beeb3")

[node name="Camera2D" type="Camera2D" parent="Player"]

[node name="CPUParticles2D" type="CPUParticles2D" parent="Player/Camera2D"]
lifetime = 2.0
randomness = 1.0
draw_order = 1
emission_shape = 3
emission_rect_extents = Vector2(80, 45)
gravity = Vector2(0, 100)
color = Color(0.176964, 0.132751, 0.132747, 1)

[node name="Gun" type="Sprite2D" parent="Player"]
texture_filter = 1
position = Vector2(4, 0)
texture = ExtResource("2_lvepg")

[node name="Sprite2D" type="Sprite2D" parent="Player"]
texture_filter = 1
texture = ExtResource("2_ccm4g")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
shape = SubResource("CapsuleShape2D_w3n0b")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_l7li0")
